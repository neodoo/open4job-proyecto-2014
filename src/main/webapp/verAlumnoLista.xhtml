<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<h:outputStylesheet library="css" name="table-style.css" />
</h:head>

<h:body>

	<ui:composition template="/template/common/commonLayout.xhtml">

		<ui:define name="content">
			<h:form id="form">

				<p:toolbar>
					<f:facet name="left">
						<p:commandButton value="Nuevo"
							icon="ui-icon-document" action="insertarAlumno" />
						<span class="ui-separator"> <span
							class="ui-icon ui-icon-grip-dotted-vertical" />
						</span>
						<p:commandButton type="button" value="otras cosicas"
							icon="ui-icon-folder-open" />


					</f:facet>

				</p:toolbar>


				<p:dataTable id="tablaDeAlumnos" var="alumno"
					value="#{alumnoBean.alumnoLista}" widgetVar="tablaDeAlumnos"
					emptyMessage="No hay alumnos con este criterio de filtrado"
					filteredValue="#{alumnoBean.alumnoFiltro}" paginator="true"
					rows="5" rowsPerPageTemplate="5,10,15">

					<f:facet name="header">
						<p:outputPanel>
							<div class="ui-grid">
								<div class="ui-grid-row">
									<div class="ui-grid-col-6">
										<h1>ALUMNOS</h1>
									</div>
									<div class="ui-grid-col-6">
										Buscar en todo
										<p:inputText id="globalFilter"
											onkeyup="PF('tablaDeAlumnos').filter()"
											style="width:150px" />
									</div>
								</div>
							</div>
						</p:outputPanel>
					</f:facet>

					<p:column id="numExpCol" filterBy="#{alumno.numExpediente}"
						headerText="#{etqAlm['etiquetas.numExpediente']}"
						filterMatchMode="exact">
						<h:outputText value="#{alumno.numExpediente}" />
					</p:column>

					<p:column id="nomCol" headerText="#{etqAlm['etiquetas.nombre']}">
						<h:outputText value="#{alumno.nombre}" />
					</p:column>

					<p:column id="ap1Col" filterBy="#{alumno.apellido1}"
						headerText="#{etqAlm['etiquetas.apellido1']}"
						filterMatchMode="startsWith">
						<h:outputText value="#{alumno.apellido1}" />
					</p:column>

					<p:column id="ap2Col" filterBy="#{alumno.apellido2}"
						headerText="#{etqAlm['etiquetas.apellido2']}"
						filterMatchMode="startsWith">
						<h:outputText value="#{alumno.apellido2}" />
					</p:column>

					<p:column id="dniCol" headerText="#{etqAlm['etiquetas.documento']}">
						<h:outputText value="#{alumno.documento}" />
					</p:column>

					<p:column style="text-align: center" id="sexCol"
						filterBy="#{alumno.sexo}" headerText="#{etqAlm['etiquetas.sexo']}"
						filterMatchMode="startsWith">
						<h:outputText value="#{alumno.sexo}" />
					</p:column>

					<p:column id="fecNacCol"
						headerText="#{etqAlm['etiquetas.fechaNacimiento']}">
						<h:outputText value="#{alumno.fechaNacimiento}" />
					</p:column>

					<p:column style="text-align: center" headerText="Detalle">
						<p:commandButton
							action="#{alumnoBean.getDetalleAlumno(alumnoBean.alumnoSeleccionado.numExpediente)}"
							icon="ui-icon-person" title="View">
							<f:setPropertyActionListener value="#{alumno}"
								target="#{alumnoBean.alumnoSeleccionado}" />
						</p:commandButton>
					</p:column>

				</p:dataTable>

			</h:form>

		</ui:define>
	</ui:composition>
</h:body>

</html>
